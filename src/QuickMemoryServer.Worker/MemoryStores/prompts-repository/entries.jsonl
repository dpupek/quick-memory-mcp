{"schemaVersion":1,"id":"onboarding/first-time","project":"prompts-repository","kind":"prompt","title":"First-time Quick Memory onboarding for a project","body":{"text":"```prompt-args\n[\n  { \"name\": \"projectKey\", \"description\": \"Quick Memory endpoint key (e.g., pr-1-3-X)\", \"required\": true }\n]\n```\n\nYou are connected to the Quick Memory MCP server.\n\nFor this session, the default project endpoint is {{projectKey}}.\n\nFollow this onboarding flow before doing any real work:\n\n1. Verify connectivity\n   - Call `health` and confirm status is `Healthy` and at least one store is listed.\n   - Call `listProjects` and confirm that `{{projectKey}}` appears in the allowed endpoints.\n\n2. Read the field guide and help resources\n   - Fetch and skim `resource://quick-memory/help` for the high-level quickstart.\n   - Fetch `resource://quick-memory/entry-fields` and summarize how `id`, `project`, `kind`, `tags`, `confidence`, `curationTier`, `epicSlug/epicCase`, and `isPermanent` affect behavior.\n\n3. Propose a default project pattern\n   - Propose how you will choose `kind` (e.g., `fact`, `procedure`, `decision`) for entries in `{{projectKey}}`.\n   - Propose a tagging pattern (3–6 tags per entry) based on the project (tests, deployments, UI quirks, etc.).\n   - Ask the user to confirm:\n     - which tags to prefer,\n     - when to use `isPermanent = true`,\n     - when to treat entries as `canonical` vs `provisional`.\n\n4. Warm up with recent entries\n   - Call `listRecentEntries { endpoint: \"{{projectKey}}\", maxResults: 20 }`.\n   - Summarize what already exists (kinds of notes, procedures, decisions).\n   - Ask the user which areas are under-documented and should be a priority.\n\n5. Commit to usage rules\n   - Restate the rules you will follow when creating/updating entries in `{{projectKey}}` (titles, tags, relations, permanence).\n   - Ask for permission before editing any existing permanent or canonical entries.\n\nFrom this point on, refer back to these rules when deciding how to store new lessons or changes in Quick Memory for {{projectKey}}.\n"},"tags":["prompt-template","category:onboarding"],"source":{"type":"system","path":"prompts-repository"},"keywords":[],"relations":[],"timestamps":{"createdUtc":"2025-12-05T00:00:00+00:00","updatedUtc":"2025-12-05T00:00:00+00:00"},"confidence":0.9,"curationTier":"curated","isPermanent":true,"pinned":true}
{"schemaVersion":1,"id":"cold-start/project","project":"prompts-repository","kind":"prompt","title":"Cold start on an existing project","body":{"text":"```prompt-args\n[\n  { \"name\": \"projectKey\", \"description\": \"Quick Memory endpoint key (e.g., pr-1-3-X)\", \"required\": true }\n]\n```\n\nYou are resuming work on project {{projectKey}} using the Quick Memory MCP server.\n\nTreat this as a **cold start** for a new session. Before proposing any code or configuration changes, follow this flow:\n\n1. Confirm connectivity\n   - Call `health` and ensure status is `Healthy`.\n   - Call `listProjects` and confirm `{{projectKey}}` is still available.\n\n2. Catch up on recent work\n   - Call `listRecentEntries { endpoint: \"{{projectKey}}\", maxResults: 20 }`.\n   - Group what you see into themes (tests, deployment, UX, data issues, etc.).\n   - Summarize the last few important lessons or decisions and call out any ongoing investigations.\n\n3. Identify gaps\n   - Based on the recent entries, highlight areas that look under-documented (e.g., no entries for CI, a particular control, or certain error codes).\n   - Ask the user if they agree and whether they want you to prioritize filling in those gaps today.\n\n4. Plan new entries\n   - Propose specific entries to add (titles + kinds) for {{projectKey}}.\n   - For each, suggest tags and whether it should be permanent or provisional.\n\n5. Confirm next actions\n   - Ask the user which entries to create first and whether they want you to immediately call `upsertEntry` after each investigation or change.\n\nUse this flow at the beginning of any new session on {{projectKey}}, especially if someone else used the memory server last.\n"},"tags":["prompt-template","category:cold-start"],"source":{"type":"system","path":"prompts-repository"},"keywords":[],"relations":[],"timestamps":{"createdUtc":"2025-12-05T00:00:00+00:00","updatedUtc":"2025-12-05T00:00:00+00:00"},"confidence":0.9,"curationTier":"curated","isPermanent":true,"pinned":true}
{"schemaVersion":1,"id":"lessons/new-entry","project":"prompts-repository","kind":"prompt","title":"Record a new lesson as an entry","body":{"text":"```prompt-args\n[\n  { \"name\": \"projectKey\", \"description\": \"Quick Memory endpoint key (e.g., pr-1-3-X)\", \"required\": true },\n  { \"name\": \"topic\", \"description\": \"Topic or issue the lesson is about\", \"required\": false }\n]\n```\n\nWe just completed an investigation or important piece of work for project {{projectKey}}.\n\nYour job is to draft a high-quality Quick Memory entry that captures the **lesson** so future agents can reuse it.\n\n1. Summarize the lesson\n   - In 2–4 sentences, describe what changed or what we learned.\n   - If `{{topic}}` is provided, weave it into the summary.\n\n2. Propose an `upsertEntry` payload\n   - Choose a `kind` for the entry (`fact`, `procedure`, or `decision`).\n   - Draft a short, descriptive `title`.\n   - Propose 3–6 tags that will make the entry easy to find (e.g., `tests`, `deployment`, `rtf`, `parser`, `decision`).\n   - Suggest a `body` that includes:\n     - context/conditions,\n     - steps or reasoning,\n     - validation and any caveats.\n   - Propose any `relations` to existing entries by id (see similar entries in {{projectKey}}).\n   - Leave `isPermanent = false` unless the user explicitly asked to make this a canonical, long-term rule.\n\n3. Ask for confirmation\n   - Show the user the proposed `upsertEntry` payload.\n   - Ask whether it should be permanent or stay provisional.\n   - Only call `upsertEntry` after they confirm or adjust the details.\n\nUse this pattern every time a meaningful, reusable lesson emerges in {{projectKey}}, so future agents can benefit from today’s work.\n"},"tags":["prompt-template","category:lesson"],"source":{"type":"system","path":"prompts-repository"},"keywords":[],"relations":[],"timestamps":{"createdUtc":"2025-12-05T00:00:00+00:00","updatedUtc":"2025-12-05T00:00:00+00:00"},"confidence":0.9,"curationTier":"curated","isPermanent":true,"pinned":true}
{"schemaVersion":1,"id":"investigation/troubleshoot","project":"prompts-repository","kind":"prompt","title":"Investigate or troubleshoot using Quick Memory","body":{"text":"```prompt-args\n[\n  { \"name\": \"projectKey\", \"description\": \"Quick Memory endpoint key (e.g., pr-1-3-X)\", \"required\": true },\n  { \"name\": \"topic\", \"description\": \"Brief description of the issue or area\", \"required\": true }\n]\n```\n\nWe need to investigate or troubleshoot an issue in project {{projectKey}} related to \"{{topic}}\".\n\nUse Quick Memory to ground your investigation before proposing changes:\n\n1. Search prior work\n   - Call `searchEntries { endpoint: \"{{projectKey}}\", text: \"{{topic}}\", maxResults: 20 }`.\n   - Group the results by kind (`fact`, `procedure`, `decision`, etc.) and summarize what is already known.\n   - Highlight any previous attempts, mitigations, or conflicting information.\n\n2. Propose an investigation plan\n   - Based on the existing entries, outline a step-by-step investigation plan.\n   - Call out where you may need to create new entries (e.g., missing tests, missing deployment notes).\n\n3. Execute in small steps\n   - For each step, tie your actions back to existing entries (by id) when possible.\n   - When you uncover new information that is likely to be useful later, propose a new entry using the `lessons/new-entry` pattern.\n\n4. Close the loop\n   - Once the issue is resolved or the investigation reaches a clear conclusion, propose a final \"lesson\" entry that captures root cause, fix, and validation.\n\nAlways bias toward reusing and extending existing entries in {{projectKey}} instead of duplicating them.\n"},"tags":["prompt-template","category:troubleshooting"],"source":{"type":"system","path":"prompts-repository"},"keywords":[],"relations":[],"timestamps":{"createdUtc":"2025-12-05T00:00:00+00:00","updatedUtc":"2025-12-05T00:00:00+00:00"},"confidence":0.9,"curationTier":"curated","isPermanent":true,"pinned":false}
{"schemaVersion":1,"id":"onboarding/agents-guidance","project":"prompts-repository","kind":"prompt","title":"Propose AGENTS.md Quick Memory guidance","body":{"text":"```prompt-args\n[\n  { \"name\": \"projectKey\", \"description\": \"Quick Memory endpoint key for this repo\", \"required\": true }\n]\n```\n\nYou are helping a user who has Quick Memory enabled for project {{projectKey}}.\n\nYour goal is to propose a **Quick Memory Usage** section for their `AGENTS.md` (or equivalent) so future agents follow the same practices.\n\nFollow this flow:\n\n1. Understand the project\n   - Ask the user what kinds of work are typical in {{projectKey}} (e.g., tests, UI, infrastructure, content).\n   - Ask whether other endpoints (like `shared` or `qm-project-notes`) are also relevant.\n\n2. Draft the guidance block\n   - Use a structure similar to the one in `docs/agent-usage.md`:\n     - Project selection for {{projectKey}}.\n     - Common flows (cold start using `listRecentEntries`, search via `searchEntries`, recording lessons via `upsertEntry`).\n     - What to record vs what to skip (e.g., summaries vs raw logs).\n     - Operational tips (timeouts, reconnecting, checking `listProjects`).\n     - Security/PHI guidelines.\n   - Make sure the endpoint name `{{projectKey}}` appears clearly.\n\n3. Ask for permission\n   - Show the user the proposed markdown block.\n   - Ask whether they want you to update `AGENTS.md` in their repo.\n   - Do **not** modify their repo unless they explicitly say yes.\n\n4. If approved\n   - Describe exactly how you would insert or update the `Quick Memory Usage` section (heading, placement, etc.).\n   - Only perform those edits if the client environment allows file changes and the user has confirmed.\n\nUse this prompt whenever a new repo starts using Quick Memory so future agents inherit a consistent playbook for {{projectKey}}.\n"},"tags":["prompt-template","category:onboarding"],"source":{"type":"system","path":"prompts-repository"},"keywords":[],"relations":[],"timestamps":{"createdUtc":"2025-12-05T00:00:00+00:00","updatedUtc":"2025-12-05T00:00:00+00:00"},"confidence":0.9,"curationTier":"curated","isPermanent":true,"pinned":false}
{"schemaVersion":1,"id":"maintenance/review-memories","project":"prompts-repository","kind":"prompt","title":"Review and curate existing memories","body":{"text":"```prompt-args\n[\n  { \"name\": \"projectKey\", \"description\": \"Quick Memory endpoint key (e.g., pr-1-3-X)\", \"required\": true }\n]\n```\n\nWe want to review and curate existing memories in project {{projectKey}}.\n\nYour goal is to help the user clean up entries, upgrade important ones, and identify gaps.\n\n1. Get a feel for the current state\n   - Call `listRecentEntries { endpoint: \"{{projectKey}}\", maxResults: 50 }`.\n   - Group entries by kind and curationTier (provisional, curated, canonical).\n   - Summarize what looks stable vs noisy.\n\n2. Identify candidates for upgrade\n   - Look for provisional entries that:\n     - Have been used recently.\n     - Capture stable recipes or decisions.\n   - Suggest which should be upgraded to `curated` or `canonical` (with justification).\n\n3. Identify candidates for merge or retirement\n   - Look for overlapping or obsolete entries.\n   - Propose merges (e.g., fold two similar notes into one stronger entry) or deprecation.\n   - Never propose deleting permanent entries unless the user explicitly raises them.\n\n4. Plan concrete edits\n   - For a small number of entries (3–5), propose specific `patchEntry` calls:\n     - Upgrading curationTier.\n     - Adjusting titles/tags.\n     - Adding relations to other key entries.\n   - Ask the user to confirm before applying changes.\n\n5. Capture meta-lessons\n   - If this review reveals recurring problems (e.g., missing tests, unclear configs), suggest new entries that should be added next.\n\nUse this flow periodically to keep Quick Memory for {{projectKey}} trustworthy and easy to navigate.\n"},"tags":["prompt-template","category:maintenance"],"source":{"type":"system","path":"prompts-repository"},"keywords":[],"relations":[],"timestamps":{"createdUtc":"2025-12-05T00:00:00+00:00","updatedUtc":"2025-12-05T00:00:00+00:00"},"confidence":0.9,"curationTier":"curated","isPermanent":true,"pinned":false}
